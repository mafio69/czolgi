$(document).ready(function(){var t="/ajax-crud/public/tasks";$(".open-modal").click(function(){var a=$(this).val();$.get(t+"/"+a,function(t){console.log(t),$("#task_id").val(t.id),$("#task").val(t.task),$("#description").val(t.description),$("#btn-save").val("update"),$("#myModal").modal("show")})}),$("#btn-add").click(function(){$("#btn-save").val("add"),$("#frmTasks").trigger("reset"),$("#myModal").modal("show")}),$(".delete-task").click(function(){var a=$(this).val();$.ajax({type:"DELETE",url:t+"/"+a,success:function(t){console.log(t),$("#task"+a).remove()},error:function(t){console.log("Error:",t)}})}),$("#btn-save").click(function(a){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="_token"]').attr("content")}}),a.preventDefault();var e={task:$("#task").val(),description:$("#description").val()},n=$("#btn-save").val(),o="POST",s=$("#task_id").val(),d=t;"update"==n&&(o="PUT",d+="/"+s),console.log(e),$.ajax({type:o,url:d,data:e,dataType:"json",success:function(t){console.log(t);var a='<tr id="task'+t.id+'"><td>'+t.id+"</td><td>"+t.task+"</td><td>"+t.description+"</td><td>"+t.created_at+"</td>";a+='<td><button class="btn btn-warning btn-xs btn-detail open-modal" value="'+t.id+'">Edit</button>',a+='<button class="btn btn-danger btn-xs btn-delete delete-task" value="'+t.id+'">Delete</button></td></tr>',"add"==n?$("#tasks-list").append(a):$("#task"+s).replaceWith(a),$("#frmTasks").trigger("reset"),$("#myModal").modal("hide")},error:function(t){console.log("Error:",t)}})})});