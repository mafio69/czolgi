!function(s){function i(){n=function(s){return t+"-"+s},o=function(s){return t+"-"+s},d=function(s){return s+"."+t},s.each([n,o,d],function(s,i){i.add=function(s){s=s.split(" ");for(var e in s)i[s[e]]=i(s[e])}}),n.add("touch desktop scale-1 scale-2 scale-3 wrapper opened opening fixed inline hover slider slide loading noanimation fastanimation"),o.add("slide anchor"),d.add("open opening close closing prev next slideTo sliding click pinch scroll resize orientationchange load loading loaded transitionend webkitTransitionEnd"),a={complObject:function(i,e){return s.isPlainObject(i)||(i=e),i},complBoolean:function(s,i){return"boolean"!=typeof s&&(s=i),s},complNumber:function(i,e){return s.isNumeric(i)||(i=e),i},complString:function(s,i){return"string"!=typeof s&&(s=i),s},isPercentage:function(s){return"string"==typeof s&&"%"==s.slice(-1)},getPercentage:function(s){return parseInt(s.slice(0,-1))},resizeRatio:function(s,i,e,t,n){if(i.is(":visible")){var o=i.width(),d=i.height();e&&o>e&&(o=e),t&&d>t&&(d=t),o/d<n?d=o/n:o=d*n,s.width(o).height(d)}},transitionend:function(s,i,e){var t=!1,n=function(){t||i.call(s[0]),t=!0};s.one(d.transitionend,n),s.one(d.webkitTransitionEnd,n),setTimeout(n,1.1*e)},setViewportScale:function(){if(r.viewportScale){var s=r.viewportScale.getScale();void 0!==s&&(s=1/s,r.$body.removeClass(n["scale-1"]).removeClass(n["scale-2"]).removeClass(n["scale-3"]).addClass(n["scale-"+Math.max(Math.min(Math.round(s),3),1)]))}}},(r={$wndw:s(window),$html:s("html"),$body:s("body"),scrollPosition:0,viewportScale:null,viewportScaleInterval:null}).$body.addClass(s[e].support.touch?n.touch:n.desktop),r.$wndw.on(d.scroll,function(s){r.$body.hasClass(n.opened)&&(window.scrollTo(0,r.scrollPosition),s.preventDefault(),s.stopPropagation(),s.stopImmediatePropagation())}),!r.viewportScale&&s[e].support.touch&&"undefined"!=typeof FlameViewportScale&&(r.viewportScale=new FlameViewportScale,a.setViewportScale(),r.$wndw.on(d.orientationchange+" "+d.resize,function(s){r.viewportScaleInterval&&(clearTimeout(r.viewportScaleInterval),r.viewportScaleInterval=null),r.viewportScaleInterval=setTimeout(function(){a.setViewportScale()},500)})),s[e]._c=n,s[e]._d=o,s[e]._e=d,s[e]._f=a,s[e]._g=r}var e="tosrus",t="tos";if(!s[e]){var n={},o={},d={},a={},r={};s[e]=function(s,i,e){return this.$node=s,this.opts=i,this.conf=e,this.vars={},this.nodes={},this.slides={},this._init(),this},s[e].prototype={_init:function(){var i=this;this._complementOptions(),this.vars.fixed="window"==this.opts.wrapper.target,this.nodes.$wrpr=s('<div class="'+n.wrapper+'" />'),this.nodes.$sldr=s('<div class="'+n.slider+'" />').appendTo(this.nodes.$wrpr),this.nodes.$wrpr.addClass(this.vars.fixed?n.fixed:n.inline).addClass(n("fx-"+this.opts.effect)).addClass(n(this.opts.slides.scale)).addClass(this.opts.wrapper.classes),this.nodes.$wrpr.on(d.open+" "+d.close+" "+d.prev+" "+d.next+" "+d.slideTo,function(s){arguments=Array.prototype.slice.call(arguments);var e=(s=arguments.shift()).type;s.stopPropagation(),"function"==typeof i[e]&&i[e].apply(i,arguments)}).on(d.opening+" "+d.closing+" "+d.sliding+" "+d.loading+" "+d.loaded,function(s){s.stopPropagation()}).on(d.click,function(e){switch(e.stopPropagation(),i.opts.wrapper.onClick){case"toggleUI":i.nodes.$wrpr.toggleClass(n.hover);break;case"close":s(e.target).is("img")||i.close()}}),this.nodes.$anchors=this._initAnchors(),this.nodes.$slides=this._initSlides(),this.slides.total=this.nodes.$slides.length,this.slides.visible=this.opts.slides.visible,this.slides.index=0,this.vars.opened=!0;for(var t=0;t<s[e].addons.length;t++)s.isFunction(this["_addon_"+s[e].addons[t]])&&this["_addon_"+s[e].addons[t]]();for(var o=0;o<s[e].ui.length;o++)this.nodes.$wrpr.find("."+n[s[e].ui[o]]).length&&this.nodes.$wrpr.addClass(n("has-"+s[e].ui[o]));"close"==this.opts.wrapper.onClick&&(this.nodes.$uibg||s().add(this.nodes.$capt||s()).add(this.nodes.$pagr||s()).on(d.click,function(s){s.stopPropagation()})),this.vars.fixed?(this.nodes.$wrpr.appendTo(r.$body),this.close(!0)):(this.nodes.$wrpr.appendTo(this.opts.wrapper.target),this.opts.show?(this.vars.opened=!1,this.open(0,!0)):this.close(!0))},open:function(i,e){var t=this;this.vars.opened||(this.vars.fixed&&(r.scrollPosition=r.$wndw.scrollTop(),r.$body.addClass(n.opened),a.setViewportScale()),e?this.nodes.$wrpr.addClass(n.opening).trigger(d.opening,[i,e]):setTimeout(function(){t.nodes.$wrpr.addClass(n.opening).trigger(d.opening,[i,e])},5),this.nodes.$wrpr.addClass(n.hover).addClass(n.opened)),this.vars.opened=!0,this._loadContents(),s.isNumeric(i)&&(e=e||!this.vars.opened,this.slideTo(i,e))},close:function(i){this.vars.opened&&(this.vars.fixed&&r.$body.removeClass(n.opened),i?this.nodes.$wrpr.removeClass(n.opened):a.transitionend(this.nodes.$wrpr,function(){s(this).removeClass(n.opened)},this.conf.transitionDuration),this.nodes.$wrpr.removeClass(n.hover).removeClass(n.opening).trigger(d.closing,[this.slides.index,i])),this.vars.opened=!1},prev:function(i,e){s.isNumeric(i)||(i=this.opts.slides.slide),this.slideTo(this.slides.index-i,e)},next:function(i,e){s.isNumeric(i)||(i=this.opts.slides.slide),this.slideTo(this.slides.index+i,e)},slideTo:function(i,t){if(!this.vars.opened)return!1;if(!s.isNumeric(i))return!1;var o=!0;if(i<0){var r=0==this.slides.index;this.opts.infinite?i=r?this.slides.total-this.slides.visible:0:(i=0,r&&(o=!1))}if(i+this.slides.visible>this.slides.total){var l=this.slides.index+this.slides.visible>=this.slides.total;this.opts.infinite?i=l?0:this.slides.total-this.slides.visible:(i=this.slides.total-this.slides.visible,l&&(o=!1))}if(this.slides.index=i,this._loadContents(),o){var h=0-this.slides.index*this.opts.slides.width+this.opts.slides.offset;this.slides.widthPercentage&&(h+="%"),t&&(this.nodes.$sldr.addClass(n.noanimation),a.transitionend(this.nodes.$sldr,function(){s(this).removeClass(n.noanimation)},5));for(var c in s[e].effects)if(c==this.opts.effect){s[e].effects[c].call(this,h,t);break}this.nodes.$wrpr.trigger(d.sliding,[i,t])}},_initAnchors:function(){var i=this,t=s();if(this.$node.is("a"))for(var n in s[e].media)t=t.add(this.$node.filter(function(){if(i.opts.media[n]&&i.opts.media[n].filterAnchors){var t=i.opts.media[n].filterAnchors.call(i,s(this));if("boolean"==typeof t)return t}return s[e].media[n].filterAnchors.call(i,s(this))}));return t},_initSlides:function(){return this[this.$node.is("a")?"_initSlidesFromAnchors":"_initSlidesFromContent"](),this.nodes.$sldr.children().css("width",this.opts.slides.width+(this.slides.widthPercentage?"%":"px"))},_initSlidesFromAnchors:function(){var i=this;this.nodes.$anchors.each(function(e){var t=s(this),a=s('<div class="'+n.slide+" "+n.loading+'" />').data(o.anchor,t).appendTo(i.nodes.$sldr);t.data(o.slide,a).on(d.click,function(s){s.preventDefault(),i.open(e)})})},_initSlidesFromContent:function(){var i=this;this.$node.children().each(function(){var t=s(this);s('<div class="'+n.slide+'" />').append(t).appendTo(i.nodes.$sldr);for(var o in s[e].media){var d=null;if(i.opts.media[o]&&i.opts.media[o].filterSlides&&(d=i.opts.media[o].filterSlides.call(i,t)),"boolean"!=typeof d&&(d=s[e].media[o].filterSlides.call(i,t)),d){s[e].media[o].initSlides.call(i,t),t.parent().addClass(n(o));break}}})},_loadContents:function(){var s=this;switch(this.opts.slides.load){case"all":this._loadContent(0,this.slides.total);break;case"visible":this._loadContent(this.slides.index,this.slides.index+this.slides.visible);break;case"near-visible":default:this._loadContent(this.slides.index,this.slides.index+this.slides.visible),setTimeout(function(){s._loadContent(s.slides.index-s.slides.visible,s.slides.index),s._loadContent(s.slides.index+s.slides.visible,s.slides.index+2*s.slides.visible)},this.conf.transitionDuration)}},_loadContent:function(i,t){var a=this;this.nodes.$slides.slice(i,t).each(function(){var i=s(this);if(0==i.children().length){var t=i.data(o.anchor),r=t.attr("href");for(var l in s[e].media){var h=null;if(a.opts.media[l]&&a.opts.media[l].filterAnchors&&(h=a.opts.media[l].filterAnchors.call(a,t)),"boolean"!=typeof h&&(h=s[e].media[l].filterAnchors.call(a,t)),h){s[e].media[l].initAnchors.call(a,i,r),i.addClass(n(l));break}}i.trigger(d.loading,[i.data(o.anchor)])}})},_complementOptions:function(){if(void 0===this.opts.wrapper.target&&(this.opts.wrapper.target=this.$node.is("a")?"window":this.$node),"window"!=this.opts.wrapper.target&&"string"==typeof this.opts.wrapper.target&&(this.opts.wrapper.target=s(this.opts.wrapper.target)),this.opts.show=a.complBoolean(this.opts.show,"window"!=this.opts.wrapper.target),s.isNumeric(this.opts.slides.width))this.slides.widthPercentage=!1,this.opts.slides.visible=a.complNumber(this.opts.slides.visible,1);else{var i=!!a.isPercentage(this.opts.slides.width)&&a.getPercentage(this.opts.slides.width);this.slides.widthPercentage=!0,this.opts.slides.visible=a.complNumber(this.opts.slides.visible,i?Math.floor(100/i):1),this.opts.slides.width=i||Math.ceil(1e4/this.opts.slides.visible)/100}this.opts.slides.slide=a.complNumber(this.opts.slides.slide,this.opts.slides.visible),this.opts.slides.offset=a.isPercentage(this.opts.slides.offset)?a.getPercentage(this.opts.slides.offset):a.complNumber(this.opts.slides.offset,0)},_uniqueID:function(){return this.__uniqueID||(this.__uniqueID=0),this.__uniqueID++,n("uid-"+this.__uniqueID)}},s.fn[e]=function(t,n,o,d){r.$wndw||i(),t=s.extend(!0,{},s[e].defaults,t),t=s.extend(!0,{},t,s[e].support.touch?o:n),d=s.extend(!0,{},s[e].configuration,d);var a=new s[e](this,t,d);return this.data(e,a),a.nodes.$wrpr},s[e].support={touch:"ontouchstart"in window.document||navigator.msMaxTouchPoints},s[e].defaults={infinite:!1,effect:"slide",wrapper:{classes:"",onClick:"toggleUI"},slides:{offset:0,scale:"fit",load:"near-visible",visible:1},media:{}},s[e].configuration={transitionDuration:400},s[e].constants={},s[e].debug=function(s){},s[e].deprecated=function(s,i){"undefined"!=typeof console&&void 0!==console.warn&&console.warn(e+": "+s+" is deprecated, use "+i+" instead.")},s[e].effects={slide:function(s){this.nodes.$sldr.css("left",s)},fade:function(i){a.transitionend(this.nodes.$sldr,function(){s(this).css("left",i).css("opacity",1)},this.conf.transitionDuration),this.nodes.$sldr.css("opacity",0)}},s[e].version="2.5.0",s[e].media={},s[e].addons=[],s[e].ui=[]}}(jQuery);